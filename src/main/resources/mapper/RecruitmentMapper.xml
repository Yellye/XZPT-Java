<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="xz.fzu.dao.IRecruitmentDao">
    <resultMap id="resultMapper" type="xz.fzu.model.Recruitment">
        <result property="publishTime" column="publish_time"/>
        <result property="companyId" column="company_id"/>
        <result property="description" column="description"/>
        <result property="recruitmentId" column="recruitment_id"/>
        <result property="contact" column="contact"/>
        <result property="qualifications" column="qualifications"/>
        <result property="location" column="location"/>
        <result property="deliveryRequest" column="delivery_request"/>
        <result property="duty" column="duty"/>
        <result property="salary" column="salary"/>
        <result property="type" column="type"/>
        <result property="validate" column="validate"/>
    </resultMap>
    <insert id="insertInstance">
        INSERT INTO recruitment(publish_time,company_id,description,contact,qualifications,location,delivery_request,duty,salary,type,validate)
        VALUES (#{publishTime},#{companyId},#{description},#{contact},#{qualifications},#{location},#{deliveryRequest},#{duty},#{salary},#{type},#{validate})
    </insert>
    <select id="selectInstaceById" resultType="xz.fzu.model.Recruitment" resultMap="resultMapper" parameterType="long">
        SELECT * FROM recruitment WHERE recruitment_id=#{recruitmentId}
    </select>
    <select id="selectListInstaceByCompanyId" resultType="xz.fzu.model.Recruitment" parameterType="java.lang.String">
        SELECT * FROM recruitment WHERE company_id=#{companyId}
    </select>
    <delete id="deleteInstace" parameterType="long">
         DELETE FROM recruitment WHERE recruitment_id=#{recruitmentId}
    </delete>
    <update id="updateInstace" parameterType="xz.fzu.model.Recruitment">
        UPDATE recruitment
        <set>
            <if test=" publishTime !=null and publishTime != '' ">
                publishTime = #{publishTime},
            </if>
            <if test=" companyId !=null and companyId != '' ">
                company_id = #{companyId},
            </if>
            <if test=" description !=null and description != '' ">
                description = #{description},
            </if>
            <if test=" contact !=null and contact != '' ">
                contac t= #{contact},
            </if>
            <if test=" qualifications !=null and qualifications != '' ">
                qualifications = #{qualifications},
            </if>
            <if test=" location !=null and location != '' ">
                location = #{location},
            </if>
            <if test=" deliveryRequest !=null and deliveryRequest != '' ">
                delivery_request = #{deliveryRequest},
            </if>
            <if test=" duty !=null and duty != '' ">
                duty = #{duty},
            </if>
            <if test=" salary !=null and salary != '' ">
                salary = #{salary},
            </if>
            <if test=" type !=null and type != '' ">
                type = #{type},
            </if>
            <if test=" validate !=null and v != '' ">
                validate = #{validate},
            </if>
        </set>
        WHERE recruitment_id=#{recruitmentId}
    </update>
</mapper>